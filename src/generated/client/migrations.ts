export default [
  {
    "statements": [
      "CREATE TABLE \"contacts\" (\n  \"id\" TEXT NOT NULL,\n  \"first_name\" TEXT,\n  \"last_name\" TEXT,\n  \"website\" TEXT,\n  \"avatar\" TEXT,\n  \"notes\" TEXT,\n  CONSTRAINT \"contacts_pkey\" PRIMARY KEY (\"id\")\n) WITHOUT ROWID;\n",
      "INSERT OR IGNORE INTO _electric_trigger_settings(tablename,flag) VALUES ('main.contacts', 1);",
      "DROP TRIGGER IF EXISTS update_ensure_main_contacts_primarykey;",
      "CREATE TRIGGER update_ensure_main_contacts_primarykey\n  BEFORE UPDATE ON \"main\".\"contacts\"\nBEGIN\n  SELECT\n    CASE\n      WHEN old.\"id\" != new.\"id\" THEN\n      \t\tRAISE (ABORT, 'cannot change the value of column id as it belongs to the primary key')\n    END;\nEND;",
      "DROP TRIGGER IF EXISTS insert_main_contacts_into_oplog;",
      "CREATE TRIGGER insert_main_contacts_into_oplog\n   AFTER INSERT ON \"main\".\"contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'contacts', 'INSERT', json_object('id', new.\"id\"), json_object('avatar', new.\"avatar\", 'first_name', new.\"first_name\", 'id', new.\"id\", 'last_name', new.\"last_name\", 'notes', new.\"notes\", 'website', new.\"website\"), NULL, NULL);\nEND;",
      "DROP TRIGGER IF EXISTS update_main_contacts_into_oplog;",
      "CREATE TRIGGER update_main_contacts_into_oplog\n   AFTER UPDATE ON \"main\".\"contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'contacts', 'UPDATE', json_object('id', new.\"id\"), json_object('avatar', new.\"avatar\", 'first_name', new.\"first_name\", 'id', new.\"id\", 'last_name', new.\"last_name\", 'notes', new.\"notes\", 'website', new.\"website\"), json_object('avatar', old.\"avatar\", 'first_name', old.\"first_name\", 'id', old.\"id\", 'last_name', old.\"last_name\", 'notes', old.\"notes\", 'website', old.\"website\"), NULL);\nEND;",
      "DROP TRIGGER IF EXISTS delete_main_contacts_into_oplog;",
      "CREATE TRIGGER delete_main_contacts_into_oplog\n   AFTER DELETE ON \"main\".\"contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'contacts', 'DELETE', json_object('id', old.\"id\"), NULL, json_object('avatar', old.\"avatar\", 'first_name', old.\"first_name\", 'id', old.\"id\", 'last_name', old.\"last_name\", 'notes', old.\"notes\", 'website', old.\"website\"), NULL);\nEND;"
    ],
    "version": "1"
  },
  {
    "statements": [
      "CREATE TABLE \"favorite_contacts\" (\n  \"id\" TEXT NOT NULL,\n  \"user_id\" TEXT NOT NULL,\n  \"contact_id\" TEXT NOT NULL,\n  CONSTRAINT \"favorite_contacts_contact_id_fkey\" FOREIGN KEY (\"contact_id\") REFERENCES \"contacts\" (\"id\"),\n  CONSTRAINT \"favorite_contacts_pkey\" PRIMARY KEY (\"id\")\n) WITHOUT ROWID;\n",
      "INSERT OR IGNORE INTO _electric_trigger_settings(tablename,flag) VALUES ('main.favorite_contacts', 1);",
      "DROP TRIGGER IF EXISTS update_ensure_main_favorite_contacts_primarykey;",
      "CREATE TRIGGER update_ensure_main_favorite_contacts_primarykey\n  BEFORE UPDATE ON \"main\".\"favorite_contacts\"\nBEGIN\n  SELECT\n    CASE\n      WHEN old.\"id\" != new.\"id\" THEN\n      \t\tRAISE (ABORT, 'cannot change the value of column id as it belongs to the primary key')\n    END;\nEND;",
      "DROP TRIGGER IF EXISTS insert_main_favorite_contacts_into_oplog;",
      "CREATE TRIGGER insert_main_favorite_contacts_into_oplog\n   AFTER INSERT ON \"main\".\"favorite_contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.favorite_contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'favorite_contacts', 'INSERT', json_object('id', new.\"id\"), json_object('contact_id', new.\"contact_id\", 'id', new.\"id\", 'user_id', new.\"user_id\"), NULL, NULL);\nEND;",
      "DROP TRIGGER IF EXISTS update_main_favorite_contacts_into_oplog;",
      "CREATE TRIGGER update_main_favorite_contacts_into_oplog\n   AFTER UPDATE ON \"main\".\"favorite_contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.favorite_contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'favorite_contacts', 'UPDATE', json_object('id', new.\"id\"), json_object('contact_id', new.\"contact_id\", 'id', new.\"id\", 'user_id', new.\"user_id\"), json_object('contact_id', old.\"contact_id\", 'id', old.\"id\", 'user_id', old.\"user_id\"), NULL);\nEND;",
      "DROP TRIGGER IF EXISTS delete_main_favorite_contacts_into_oplog;",
      "CREATE TRIGGER delete_main_favorite_contacts_into_oplog\n   AFTER DELETE ON \"main\".\"favorite_contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.favorite_contacts')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  VALUES ('main', 'favorite_contacts', 'DELETE', json_object('id', old.\"id\"), NULL, json_object('contact_id', old.\"contact_id\", 'id', old.\"id\", 'user_id', old.\"user_id\"), NULL);\nEND;",
      "DROP TRIGGER IF EXISTS compensation_insert_main_favorite_contacts_contact_id_into_oplog;",
      "CREATE TRIGGER compensation_insert_main_favorite_contacts_contact_id_into_oplog\n  AFTER INSERT ON \"main\".\"favorite_contacts\"\n  WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.contacts') AND\n       1 == (SELECT value from _electric_meta WHERE key == 'compensations')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  SELECT 'main', 'contacts', 'COMPENSATION', json_object('id', \"id\"), json_object('id', \"id\"), NULL, NULL\n  FROM \"main\".\"contacts\" WHERE \"id\" = new.\"contact_id\";\nEND;",
      "DROP TRIGGER IF EXISTS compensation_update_main_favorite_contacts_contact_id_into_oplog;",
      "CREATE TRIGGER compensation_update_main_favorite_contacts_contact_id_into_oplog\n   AFTER UPDATE ON \"main\".\"favorite_contacts\"\n   WHEN 1 == (SELECT flag from _electric_trigger_settings WHERE tablename == 'main.contacts') AND\n        1 == (SELECT value from _electric_meta WHERE key == 'compensations')\nBEGIN\n  INSERT INTO _electric_oplog (namespace, tablename, optype, primaryKey, newRow, oldRow, timestamp)\n  SELECT 'main', 'contacts', 'COMPENSATION', json_object('id', \"id\"), json_object('id', \"id\"), NULL, NULL\n  FROM \"main\".\"contacts\" WHERE \"id\" = new.\"contact_id\";\nEND;"
    ],
    "version": "2"
  }
]